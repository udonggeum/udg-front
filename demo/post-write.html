<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ê¸€ì“°ê¸° - ìš°ë¦¬ë™ë„¤ê¸ˆì€ë°©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FFD700',
                        'primary-dark': '#E5C100',
                        'gray-50': '#FAFAFA',
                        'gray-100': '#F5F5F5',
                        'gray-200': '#EEEEEE',
                        'gray-300': '#E0E0E0',
                        'gray-400': '#BDBDBD',
                        'gray-500': '#9E9E9E',
                        'gray-600': '#757575',
                        'gray-700': '#616161',
                        'gray-800': '#424242',
                        'gray-900': '#191F28',
                    },
                    fontFamily: {
                        pretendard: ['Pretendard', '-apple-system', 'BlinkMacSystemFont', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        * {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
        }

        html {
            scroll-behavior: smooth;
        }

        .smooth-transition {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-shadow {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #E0E0E0;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #BDBDBD;
        }

        .image-preview-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 12px;
            overflow: hidden;
        }

        .image-preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-preview-item .remove-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .image-preview-item:hover .remove-btn {
            opacity: 1;
        }

        .image-preview-item .remove-btn:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        .tone-option {
            cursor: pointer;
            transition: all 0.2s;
        }

        .tone-option.selected {
            background: #191F28;
            color: white;
            border-color: #191F28;
        }

        .generating-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .result-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .result-content.show {
            max-height: 2000px;
        }

        .keyword-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 6px 12px;
            background: #F5F5F5;
            border-radius: 20px;
            font-size: 14px;
            color: #424242;
        }

        .keyword-tag .remove {
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #BDBDBD;
            color: white;
            font-size: 12px;
            line-height: 1;
        }

        .keyword-tag .remove:hover {
            background: #757575;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-900 font-pretendard">

    <!-- í—¤ë” -->
    <header class="w-full bg-white sticky top-0 z-50 border-b border-gray-100">
        <div class="max-w-[1200px] mx-auto px-5 h-[60px] flex justify-between items-center">
            <!-- ë¡œê³  -->
            <a href="main.html" class="flex items-center gap-2">
                <div class="w-8 h-8 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                    </svg>
                </div>
                <span class="text-lg font-bold text-gray-900">ìš°ë¦¬ë™ë„¤ê¸ˆì€ë°©</span>
            </a>

            <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
            <nav class="hidden md:flex items-center gap-8">
                <a href="price.html" class="nav-link text-[15px] font-medium text-gray-600 hover:text-gray-900 smooth-transition" data-page="price">ê¸ˆì‹œì„¸</a>
                <a href="stores.html" class="nav-link text-[15px] font-medium text-gray-600 hover:text-gray-900 smooth-transition" data-page="stores">ë§¤ì¥ì°¾ê¸°</a>
                <a href="community.html" class="nav-link text-[15px] font-medium text-gray-600 hover:text-gray-900 smooth-transition" data-page="community">ì»¤ë®¤ë‹ˆí‹°</a>
            </nav>

            <!-- ìš°ì¸¡ ì˜ì—­ -->
            <div class="flex items-center gap-3">
                <a href="community.html" class="text-[14px] text-gray-500 hover:text-gray-900 smooth-transition flex items-center gap-1">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                    ë‹«ê¸°
                </a>
            </div>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="max-w-[800px] mx-auto px-5 py-8 md:py-12">

        <!-- AI ë°°ì§€ -->
        <div class="flex items-center gap-3 mb-6">
            <div class="flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full">
                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"></path>
                </svg>
                <span class="text-white text-[14px] font-bold">AI ìë™ ê¸€ì“°ê¸°</span>
            </div>
            <p class="text-[13px] text-gray-500">ëª‡ ê°€ì§€ë§Œ ì…ë ¥í•˜ë©´ AIê°€ ë©‹ì§„ ê¸€ì„ ì‘ì„±í•´ë“œë ¤ìš”</p>
        </div>

        <!-- íƒ€ì´í‹€ -->
        <h1 class="text-[28px] md:text-[32px] font-bold text-gray-900 mb-2">
            ì–´ë–¤ ê¸€ì„ ì‘ì„±í• ê¹Œìš”?
        </h1>
        <p class="text-[15px] text-gray-500 mb-8">
            ê°„ë‹¨í•œ ì •ë³´ë§Œ ì…ë ¥í•˜ë©´ AIê°€ ìë™ìœ¼ë¡œ ì™„ì„±ë„ ë†’ì€ ì½˜í…ì¸ ë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤
        </p>

        <!-- ì…ë ¥ í¼ -->
        <form id="ai-post-form" class="space-y-6">

            <!-- ë§¤ì¥ ì„ íƒ -->
            <div class="bg-white rounded-2xl p-6 card-shadow">
                <label class="flex items-center gap-2 text-[16px] font-bold text-gray-900 mb-4">
                    <span class="flex items-center justify-center w-7 h-7 bg-gray-900 text-white text-[14px] font-bold rounded-full">1</span>
                    ë§¤ì¥ ì„ íƒ
                </label>
                <select id="store-select" required class="w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl text-[15px] text-gray-900 focus:border-gray-900 focus:outline-none smooth-transition">
                    <option value="">ì–´ëŠ ë§¤ì¥ì˜ ê¸€ì¸ê°€ìš”?</option>
                    <option value="ê°•ë‚¨ê¸ˆì€ë°©">ê°•ë‚¨ê¸ˆì€ë°©</option>
                    <option value="ì¢…ë¡œì£¼ì–¼ë¦¬">ì¢…ë¡œì£¼ì–¼ë¦¬</option>
                    <option value="ë‹¤ì´ì•„ëª¬ë“œí•˜ìš°ìŠ¤">ë‹¤ì´ì•„ëª¬ë“œí•˜ìš°ìŠ¤</option>
                </select>
            </div>

            <!-- ì‚¬ì§„ ì—…ë¡œë“œ -->
            <div class="bg-white rounded-2xl p-6 card-shadow">
                <label class="flex items-center gap-2 text-[16px] font-bold text-gray-900 mb-4">
                    <span class="flex items-center justify-center w-7 h-7 bg-gray-900 text-white text-[14px] font-bold rounded-full">2</span>
                    ì‚¬ì§„ ì¶”ê°€ (ì„ íƒ)
                </label>
                <p class="text-[14px] text-gray-500 mb-4">ê¸€ê³¼ ê´€ë ¨ëœ ì‚¬ì§„ì„ ì˜¬ë ¤ì£¼ì„¸ìš”. ìµœëŒ€ 5ì¥ê¹Œì§€ ê°€ëŠ¥í•´ìš”</p>

                <div id="images-preview" class="grid grid-cols-3 gap-3 mb-3 hidden">
                    <!-- ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°ê°€ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>

                <input type="file" id="images-input" accept="image/*" multiple class="hidden">
                <button type="button" id="images-select-btn" class="w-full px-4 py-3.5 bg-gray-50 hover:bg-gray-100 border-2 border-dashed border-gray-300 text-gray-600 text-[15px] font-semibold rounded-xl smooth-transition flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"></path>
                    </svg>
                    <span id="images-btn-text">ì‚¬ì§„ ì„ íƒí•˜ê¸°</span>
                </button>
            </div>

            <!-- í¬í•¨í•  í‚¤ì›Œë“œ -->
            <div class="bg-white rounded-2xl p-6 card-shadow">
                <label class="flex items-center gap-2 text-[16px] font-bold text-gray-900 mb-4">
                    <span class="flex items-center justify-center w-7 h-7 bg-gray-900 text-white text-[14px] font-bold rounded-full">3</span>
                    í¬í•¨í•  í‚¤ì›Œë“œ
                </label>
                <p class="text-[14px] text-gray-500 mb-4">ê¸€ì— ê¼­ ë“¤ì–´ê°”ìœ¼ë©´ í•˜ëŠ” ë‹¨ì–´ë‚˜ ë¬¸êµ¬ê°€ ìˆë‚˜ìš”?</p>

                <div id="keywords-container" class="flex flex-wrap gap-2 mb-3 min-h-[40px]">
                    <!-- í‚¤ì›Œë“œ íƒœê·¸ê°€ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>

                <div class="flex gap-2">
                    <input type="text" id="keyword-input" placeholder="ì˜ˆ: 24K ìˆœê¸ˆ, í• ì¸ ì´ë²¤íŠ¸, ë¬´ë£Œ ë°°ì†¡" class="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:border-gray-900 focus:outline-none smooth-transition">
                    <button type="button" id="keyword-add-btn" class="px-5 py-3 bg-gray-900 hover:bg-gray-800 text-white text-[14px] font-semibold rounded-xl smooth-transition">
                        ì¶”ê°€
                    </button>
                </div>
            </div>

            <!-- ê°•ì¡°í•˜ê³  ì‹¶ì€ ë‚´ìš© -->
            <div class="bg-white rounded-2xl p-6 card-shadow">
                <label class="flex items-center gap-2 text-[16px] font-bold text-gray-900 mb-4">
                    <span class="flex items-center justify-center w-7 h-7 bg-gray-900 text-white text-[14px] font-bold rounded-full">4</span>
                    ê°•ì¡°í•˜ê³  ì‹¶ì€ ë‚´ìš©
                </label>
                <p class="text-[14px] text-gray-500 mb-4">ì´ ê¸€ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë©”ì‹œì§€ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</p>
                <textarea id="emphasis-input" rows="4" placeholder="ì˜ˆ: ì„¤ë‚  ë§ì´ íŠ¹ë³„ í• ì¸, ì„ ì°©ìˆœ 50ëª…, 24K ìˆœê¸ˆ ëª©ê±¸ì´ 15% í• ì¸" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:border-gray-900 focus:outline-none smooth-transition resize-none"></textarea>
            </div>

            <!-- ë§íˆ¬ ì„ íƒ -->
            <div class="bg-white rounded-2xl p-6 card-shadow">
                <label class="flex items-center gap-2 text-[16px] font-bold text-gray-900 mb-4">
                    <span class="flex items-center justify-center w-7 h-7 bg-gray-900 text-white text-[14px] font-bold rounded-full">5</span>
                    ë§íˆ¬ ì„ íƒ
                </label>
                <p class="text-[14px] text-gray-500 mb-4">ì–´ë–¤ ë¶„ìœ„ê¸°ë¡œ ê¸€ì„ ì‘ì„±í• ê¹Œìš”?</p>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                    <div class="tone-option selected border-2 border-gray-200 rounded-xl p-4 text-center" data-tone="friendly">
                        <div class="text-[24px] mb-2">ğŸ˜Š</div>
                        <div class="text-[14px] font-semibold">ì¹œê·¼í•œ</div>
                        <div class="text-[12px] text-gray-500 mt-1">~í•´ìš” ì²´</div>
                    </div>
                    <div class="tone-option border-2 border-gray-200 rounded-xl p-4 text-center" data-tone="professional">
                        <div class="text-[24px] mb-2">ğŸ’¼</div>
                        <div class="text-[14px] font-semibold">ì „ë¬¸ì ì¸</div>
                        <div class="text-[12px] text-gray-500 mt-1">~ì…ë‹ˆë‹¤ ì²´</div>
                    </div>
                    <div class="tone-option border-2 border-gray-200 rounded-xl p-4 text-center" data-tone="casual">
                        <div class="text-[24px] mb-2">âœŒï¸</div>
                        <div class="text-[14px] font-semibold">í¸ì•ˆí•œ</div>
                        <div class="text-[12px] text-gray-500 mt-1">ë°˜ë§ì²´</div>
                    </div>
                    <div class="tone-option border-2 border-gray-200 rounded-xl p-4 text-center" data-tone="exciting">
                        <div class="text-[24px] mb-2">ğŸ‰</div>
                        <div class="text-[14px] font-semibold">í™œê¸°ì°¬</div>
                        <div class="text-[12px] text-gray-500 mt-1">ëŠë‚Œí‘œ ë§ì´</div>
                    </div>
                </div>
            </div>

            <!-- AI ìƒì„± ë²„íŠ¼ -->
            <div class="pt-4">
                <button type="submit" id="generate-btn" class="w-full px-6 py-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-[16px] font-bold rounded-xl smooth-transition flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"></path>
                    </svg>
                    AIë¡œ ê¸€ ì‘ì„±í•˜ê¸°
                </button>
            </div>
        </form>

        <!-- AI ìƒì„± ê²°ê³¼ -->
        <div id="result-section" class="hidden mt-8 space-y-6">

            <!-- ìƒì„±ëœ ì œëª© -->
            <div class="bg-white rounded-2xl p-6 card-shadow">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-[16px] font-bold text-gray-900">ìƒì„±ëœ ì œëª©</h3>
                    <button type="button" id="regenerate-title-btn" class="text-[13px] text-purple-500 hover:text-purple-600 font-medium flex items-center gap-1">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"></path>
                        </svg>
                        ë‹¤ì‹œ ìƒì„±
                    </button>
                </div>
                <input type="text" id="generated-title" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-[15px] text-gray-900 focus:border-gray-900 focus:outline-none smooth-transition" readonly>
            </div>

            <!-- ìƒì„±ëœ ë³¸ë¬¸ -->
            <div class="bg-white rounded-2xl p-6 card-shadow">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-[16px] font-bold text-gray-900">ìƒì„±ëœ ë³¸ë¬¸</h3>
                    <button type="button" id="regenerate-content-btn" class="text-[13px] text-purple-500 hover:text-purple-600 font-medium flex items-center gap-1">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"></path>
                        </svg>
                        ë‹¤ì‹œ ìƒì„±
                    </button>
                </div>
                <textarea id="generated-content" rows="15" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-[15px] text-gray-900 focus:border-gray-900 focus:outline-none smooth-transition resize-none"></textarea>
            </div>

            <!-- ê²Œì‹œ ë²„íŠ¼ -->
            <div class="flex gap-3">
                <button type="button" id="cancel-btn" class="flex-1 px-6 py-4 bg-white border-2 border-gray-200 hover:border-gray-300 text-gray-700 text-[15px] font-semibold rounded-xl smooth-transition">
                    ì·¨ì†Œ
                </button>
                <button type="button" id="publish-btn" class="flex-1 px-6 py-4 bg-gray-900 hover:bg-gray-800 text-white text-[15px] font-semibold rounded-xl smooth-transition">
                    ê²Œì‹œí•˜ê¸°
                </button>
            </div>
        </div>
    </main>

    <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ -->
    <div id="loading-overlay" class="generating-overlay hidden">
        <div class="bg-white rounded-2xl p-8 max-w-sm text-center card-shadow">
            <div class="w-16 h-16 mx-auto mb-4 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin"></div>
            <h3 class="text-[18px] font-bold text-gray-900 mb-2">AIê°€ ê¸€ì„ ì‘ì„±í•˜ê³  ìˆì–´ìš”</h3>
            <p class="text-[14px] text-gray-500 mb-4">ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
            <div class="flex items-center justify-center gap-2">
                <div class="w-2 h-2 bg-purple-500 rounded-full animate-pulse"></div>
                <div class="w-2 h-2 bg-purple-500 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                <div class="w-2 h-2 bg-purple-500 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
            </div>
        </div>
    </div>

    <script>
        // ë¡œê·¸ì¸ ì²´í¬
        const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
        if (!isLoggedIn) {
            alert('ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
            window.location.href = 'login.html';
        }

        // ì „ì—­ ë³€ìˆ˜
        let selectedImages = [];
        let keywords = [];
        let selectedTone = 'friendly';

        // ì´ë¯¸ì§€ ì—…ë¡œë“œ
        const imagesInput = document.getElementById('images-input');
        const imagesPreview = document.getElementById('images-preview');
        const imagesSelectBtn = document.getElementById('images-select-btn');
        const imagesBtnText = document.getElementById('images-btn-text');

        imagesSelectBtn.addEventListener('click', () => {
            imagesInput.click();
        });

        imagesInput.addEventListener('change', function(e) {
            const files = Array.from(e.target.files);

            if (selectedImages.length + files.length > 5) {
                alert('ìµœëŒ€ 5ì¥ê¹Œì§€ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                return;
            }

            files.forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    selectedImages.push({
                        file: file,
                        url: e.target.result
                    });
                    renderImages();
                };
                reader.readAsDataURL(file);
            });
        });

        function renderImages() {
            if (selectedImages.length === 0) {
                imagesPreview.classList.add('hidden');
                imagesBtnText.textContent = 'ì‚¬ì§„ ì„ íƒí•˜ê¸°';
                return;
            }

            imagesPreview.classList.remove('hidden');
            imagesBtnText.textContent = `ì‚¬ì§„ ${selectedImages.length}ì¥ ì„ íƒë¨`;

            imagesPreview.innerHTML = selectedImages.map((img, index) => `
                <div class="image-preview-item">
                    <img src="${img.url}" alt="ì´ë¯¸ì§€ ${index + 1}">
                    <div class="remove-btn" onclick="removeImage(${index})">
                        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </div>
                </div>
            `).join('');
        }

        window.removeImage = function(index) {
            selectedImages.splice(index, 1);
            renderImages();
        };

        // í‚¤ì›Œë“œ ì¶”ê°€
        const keywordInput = document.getElementById('keyword-input');
        const keywordAddBtn = document.getElementById('keyword-add-btn');
        const keywordsContainer = document.getElementById('keywords-container');

        keywordAddBtn.addEventListener('click', addKeyword);
        keywordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                addKeyword();
            }
        });

        function addKeyword() {
            const keyword = keywordInput.value.trim();
            if (!keyword) return;

            if (keywords.includes(keyword)) {
                alert('ì´ë¯¸ ì¶”ê°€ëœ í‚¤ì›Œë“œì…ë‹ˆë‹¤.');
                return;
            }

            keywords.push(keyword);
            keywordInput.value = '';
            renderKeywords();
        }

        function renderKeywords() {
            if (keywords.length === 0) {
                keywordsContainer.innerHTML = '<p class="text-[14px] text-gray-400">ì¶”ê°€ëœ í‚¤ì›Œë“œê°€ ì—†ìŠµë‹ˆë‹¤</p>';
                return;
            }

            keywordsContainer.innerHTML = keywords.map((keyword, index) => `
                <span class="keyword-tag">
                    ${keyword}
                    <span class="remove" onclick="removeKeyword(${index})">Ã—</span>
                </span>
            `).join('');
        }

        window.removeKeyword = function(index) {
            keywords.splice(index, 1);
            renderKeywords();
        };

        renderKeywords();

        // ë§íˆ¬ ì„ íƒ
        document.querySelectorAll('.tone-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.tone-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                selectedTone = this.dataset.tone;
            });
        });

        // AI ìƒì„±
        document.getElementById('ai-post-form').addEventListener('submit', async function(e) {
            e.preventDefault();

            const store = document.getElementById('store-select').value;
            const emphasis = document.getElementById('emphasis-input').value.trim();

            if (!store) {
                alert('ë§¤ì¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            // ë¡œë”© í‘œì‹œ
            document.getElementById('loading-overlay').classList.remove('hidden');

            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ AI API í˜¸ì¶œ
            // í˜„ì¬ëŠ” ë°ëª¨ì´ë¯€ë¡œ ì‹œë®¬ë ˆì´ì…˜
            await simulateAIGeneration(store, emphasis);
        });

        async function simulateAIGeneration(store, emphasis) {
            // 2ì´ˆ ëŒ€ê¸° (AI ìƒì„± ì‹œë®¬ë ˆì´ì…˜)
            await new Promise(resolve => setTimeout(resolve, 2000));

            // ìƒ˜í”Œ ìƒì„± ê²°ê³¼
            const toneTemplates = {
                friendly: {
                    title: `${store}ì—ì„œ ì•Œë ¤ë“œë¦¬ëŠ” íŠ¹ë³„í•œ ì†Œì‹ì´ì—ìš”!`,
                    content: `ì•ˆë…•í•˜ì„¸ìš”, ${store}ì…ë‹ˆë‹¤!\n\n${emphasis || 'íŠ¹ë³„í•œ ì´ë²¤íŠ¸ë¥¼ ì¤€ë¹„í–ˆì–´ìš”'}.\n\n${keywords.length > 0 ? `íŠ¹íˆ ${keywords.join(', ')} ë“± ë‹¤ì–‘í•œ í˜œíƒì„ ë§Œë‚˜ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.` : ''}\n\në§ì€ ê´€ì‹¬ ë¶€íƒë“œë ¤ìš”. ê¶ê¸ˆí•˜ì‹  ì ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ë¬¸ì˜í•´ì£¼ì„¸ìš”!\n\nê°ì‚¬í•©ë‹ˆë‹¤ :)`
                },
                professional: {
                    title: `${store} ${emphasis ? emphasis.split(',')[0] : 'íŠ¹ë³„ ì•ˆë‚´'}`,
                    content: `ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ, ${store}ì…ë‹ˆë‹¤.\n\n${emphasis || 'íŠ¹ë³„í•œ ì•ˆë‚´ì‚¬í•­ì„ ì „ë‹¬ë“œë¦½ë‹ˆë‹¤'}.\n\n${keywords.length > 0 ? `ë³¸ í–‰ì‚¬ì—ì„œëŠ” ${keywords.join(', ')} ë“±ì˜ ë‹¤ì–‘í•œ í˜œíƒì„ ì œê³µí•©ë‹ˆë‹¤.` : ''}\n\nìì„¸í•œ ì‚¬í•­ì€ ë§¤ì¥ìœ¼ë¡œ ë¬¸ì˜ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\nê°ì‚¬í•©ë‹ˆë‹¤.`
                },
                casual: {
                    title: `${store} ${emphasis ? emphasis.split(',')[0] : 'í•«ë”œ'} ë–´ë‹¤!`,
                    content: `${store}ì•¼!\n\n${emphasis || 'ëŒ€ë°• ì´ë²¤íŠ¸ ì‹œì‘'}!\n\n${keywords.length > 0 ? `${keywords.join(', ')} ì´ëŸ° ê²ƒë“¤ ë‹¤ ìˆìŒ!` : ''}\n\në†“ì¹˜ì§€ ë§ê³  ë¹¨ë¦¬ ì™€ë´~`
                },
                exciting: {
                    title: `ğŸ‰ ${store} ${emphasis ? emphasis.split(',')[0] : 'íŠ¹ë³„ ì´ë²¤íŠ¸'} ì‹œì‘! ğŸ‰`,
                    content: `ì•ˆë…•í•˜ì„¸ìš”! ${store}ì…ë‹ˆë‹¤!\n\në“œë””ì–´! ${emphasis || 'íŠ¹ë³„í•œ ì´ë²¤íŠ¸ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤'}!\n\n${keywords.length > 0 ? `${keywords.join(', ')} ë“±ë“±!! ì •ë§ ë‹¤ì–‘í•œ í˜œíƒì´ ê°€ë“í•´ìš”!` : ''}\n\nì§€ê¸ˆ ë°”ë¡œ í™•ì¸í•´ë³´ì„¸ìš”! ë†“ì¹˜ë©´ í›„íšŒí•  ê±°ì˜ˆìš”! ğŸ˜`
                }
            };

            const template = toneTemplates[selectedTone];

            document.getElementById('generated-title').value = template.title;
            document.getElementById('generated-content').value = template.content;

            // ë¡œë”© ìˆ¨ê¸°ê³  ê²°ê³¼ í‘œì‹œ
            document.getElementById('loading-overlay').classList.add('hidden');
            document.getElementById('result-section').classList.remove('hidden');
            document.getElementById('result-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // ì¬ìƒì„± ë²„íŠ¼
        document.getElementById('regenerate-title-btn').addEventListener('click', async () => {
            const store = document.getElementById('store-select').value;
            const emphasis = document.getElementById('emphasis-input').value.trim();

            document.getElementById('loading-overlay').classList.remove('hidden');
            await simulateAIGeneration(store, emphasis);
        });

        document.getElementById('regenerate-content-btn').addEventListener('click', async () => {
            const store = document.getElementById('store-select').value;
            const emphasis = document.getElementById('emphasis-input').value.trim();

            document.getElementById('loading-overlay').classList.remove('hidden');
            await simulateAIGeneration(store, emphasis);
        });

        // ì·¨ì†Œ ë²„íŠ¼
        document.getElementById('cancel-btn').addEventListener('click', () => {
            if (confirm('ì‘ì„±ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.location.href = 'community.html';
            }
        });

        // ê²Œì‹œ ë²„íŠ¼
        document.getElementById('publish-btn').addEventListener('click', () => {
            const title = document.getElementById('generated-title').value;
            const content = document.getElementById('generated-content').value;

            if (!title || !content) {
                alert('ì œëª©ê³¼ ë³¸ë¬¸ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
                return;
            }

            alert('ê²Œì‹œê¸€ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
            window.location.href = 'community.html';
        });
    </script>
</body>

</html>
